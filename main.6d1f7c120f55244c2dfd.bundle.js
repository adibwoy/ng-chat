webpackJsonp([1],{"+h1B":function(n,e,t){"use strict";var l=t("/oeL"),r=t("aR8+"),i=t("qbdv"),u=t("fc+i"),s=t("bm2B"),o=t("gvst"),_=t("q4dy");t.d(e,"a",function(){return p});var a=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])};return function(e,t){function l(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(l.prototype=t.prototype,new l)}}(),c=function(n){function e(e){return n.call(this,e,[_.a],[_.a])||this}return a(e,n),Object.defineProperty(e.prototype,"_LOCALE_ID_11",{get:function(){return null==this.__LOCALE_ID_11&&(this.__LOCALE_ID_11=l.b(this.parent.get(l.c,null))),this.__LOCALE_ID_11},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_NgLocalization_12",{get:function(){return null==this.__NgLocalization_12&&(this.__NgLocalization_12=new i.a(this._LOCALE_ID_11)),this.__NgLocalization_12},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Compiler_13",{get:function(){return null==this.__Compiler_13&&(this.__Compiler_13=new l.d),this.__Compiler_13},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_APP_ID_14",{get:function(){return null==this.__APP_ID_14&&(this.__APP_ID_14=l.e()),this.__APP_ID_14},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_IterableDiffers_15",{get:function(){return null==this.__IterableDiffers_15&&(this.__IterableDiffers_15=l.f()),this.__IterableDiffers_15},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_KeyValueDiffers_16",{get:function(){return null==this.__KeyValueDiffers_16&&(this.__KeyValueDiffers_16=l.g()),this.__KeyValueDiffers_16},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_DomSanitizer_17",{get:function(){return null==this.__DomSanitizer_17&&(this.__DomSanitizer_17=new u.b(this.parent.get(u.c))),this.__DomSanitizer_17},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Sanitizer_18",{get:function(){return null==this.__Sanitizer_18&&(this.__Sanitizer_18=this._DomSanitizer_17),this.__Sanitizer_18},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_HAMMER_GESTURE_CONFIG_19",{get:function(){return null==this.__HAMMER_GESTURE_CONFIG_19&&(this.__HAMMER_GESTURE_CONFIG_19=new u.d),this.__HAMMER_GESTURE_CONFIG_19},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_EVENT_MANAGER_PLUGINS_20",{get:function(){return null==this.__EVENT_MANAGER_PLUGINS_20&&(this.__EVENT_MANAGER_PLUGINS_20=[new u.e(this.parent.get(u.c)),new u.f(this.parent.get(u.c)),new u.g(this.parent.get(u.c),this._HAMMER_GESTURE_CONFIG_19)]),this.__EVENT_MANAGER_PLUGINS_20},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_EventManager_21",{get:function(){return null==this.__EventManager_21&&(this.__EventManager_21=new u.h(this._EVENT_MANAGER_PLUGINS_20,this.parent.get(l.h))),this.__EventManager_21},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ɵDomSharedStylesHost_22",{get:function(){return null==this.__ɵDomSharedStylesHost_22&&(this.__ɵDomSharedStylesHost_22=new u.i(this.parent.get(u.c))),this.__ɵDomSharedStylesHost_22},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ɵDomRendererFactory2_23",{get:function(){return null==this.__ɵDomRendererFactory2_23&&(this.__ɵDomRendererFactory2_23=new u.j(this._EventManager_21,this._ɵDomSharedStylesHost_22)),this.__ɵDomRendererFactory2_23},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_RendererFactory2_24",{get:function(){return null==this.__RendererFactory2_24&&(this.__RendererFactory2_24=this._ɵDomRendererFactory2_23),this.__RendererFactory2_24},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ɵSharedStylesHost_25",{get:function(){return null==this.__ɵSharedStylesHost_25&&(this.__ɵSharedStylesHost_25=this._ɵDomSharedStylesHost_22),this.__ɵSharedStylesHost_25},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Testability_26",{get:function(){return null==this.__Testability_26&&(this.__Testability_26=new l.i(this.parent.get(l.h))),this.__Testability_26},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Meta_27",{get:function(){return null==this.__Meta_27&&(this.__Meta_27=new u.k(this.parent.get(u.c))),this.__Meta_27},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Title_28",{get:function(){return null==this.__Title_28&&(this.__Title_28=new u.l(this.parent.get(u.c))),this.__Title_28},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ɵi_29",{get:function(){return null==this.__ɵi_29&&(this.__ɵi_29=new s.a),this.__ɵi_29},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_MessageService_30",{get:function(){return null==this.__MessageService_30&&(this.__MessageService_30=new o.a),this.__MessageService_30},enumerable:!0,configurable:!0}),e.prototype.createInternal=function(){return this._CommonModule_0=new i.b,this._ErrorHandler_1=u.m(),this._APP_INITIALIZER_2=[l.j,u.n(this.parent.get(u.o,null),this.parent.get(l.k,null))],this._ApplicationInitStatus_3=new l.l(this._APP_INITIALIZER_2),this._ɵf_4=new l.m(this.parent.get(l.h),this.parent.get(l.n),this,this._ErrorHandler_1,this.componentFactoryResolver,this._ApplicationInitStatus_3),this._ApplicationRef_5=this._ɵf_4,this._ApplicationModule_6=new l.o(this._ApplicationRef_5),this._BrowserModule_7=new u.p(this.parent.get(u.p,null)),this._ɵba_8=new s.b,this._FormsModule_9=new s.c,this._AppModule_10=new r.a,this._AppModule_10},e.prototype.getInternal=function(n,e){return n===i.b?this._CommonModule_0:n===l.p?this._ErrorHandler_1:n===l.q?this._APP_INITIALIZER_2:n===l.l?this._ApplicationInitStatus_3:n===l.m?this._ɵf_4:n===l.r?this._ApplicationRef_5:n===l.o?this._ApplicationModule_6:n===u.p?this._BrowserModule_7:n===s.b?this._ɵba_8:n===s.c?this._FormsModule_9:n===r.a?this._AppModule_10:n===l.c?this._LOCALE_ID_11:n===i.c?this._NgLocalization_12:n===l.d?this._Compiler_13:n===l.s?this._APP_ID_14:n===l.t?this._IterableDiffers_15:n===l.u?this._KeyValueDiffers_16:n===u.q?this._DomSanitizer_17:n===l.v?this._Sanitizer_18:n===u.r?this._HAMMER_GESTURE_CONFIG_19:n===u.s?this._EVENT_MANAGER_PLUGINS_20:n===u.h?this._EventManager_21:n===u.i?this._ɵDomSharedStylesHost_22:n===u.j?this._ɵDomRendererFactory2_23:n===l.w?this._RendererFactory2_24:n===u.t?this._ɵSharedStylesHost_25:n===l.i?this._Testability_26:n===u.k?this._Meta_27:n===u.l?this._Title_28:n===s.a?this._ɵi_29:n===o.a?this._MessageService_30:e},e.prototype.destroyInternal=function(){this._ɵf_4.ngOnDestroy(),this.__ɵDomSharedStylesHost_22&&this._ɵDomSharedStylesHost_22.ngOnDestroy()},e}(l.x),p=new l.y(c,r.a)},0:function(n,e,t){n.exports=t("cDNt")},"6S33":function(n,e,t){"use strict";var l=t("emCa"),r=t("rlar"),i=(t.n(r),t("gvst")),u=t("VPMo");t.d(e,"a",function(){return s});var s=function(){function n(n,e){this.userService=n,this.messageService=e,this.messages=[],this._message="",this.receiverTyping=!1,this.messenger=new r.Subject,this.typing=new r.Subject}return Object.defineProperty(n.prototype,"message",{get:function(){return this._message},set:function(n){this._message=n,this.message?this.typing.next(!0):this.typing.next(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"senderId",{get:function(){return this._senderId},set:function(n){"number"==typeof n&&(this._senderId=n,this.populateUserInfo(n),this.messageService.register(n,this.messengerObs),this.messageService.registerTypingListener(n,this.typingObs))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"receiverId",{get:function(){return this._receiverId},set:function(n){"number"==typeof n&&(this._receiverId=n)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"receiverName",{get:function(){return this.userService.getUserInfo(this.receiverId).name},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"messengerObs",{get:function(){return this.messenger.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"typingObs",{get:function(){return this.typing.asObservable()},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){},n.prototype.ngAfterViewInit=function(){var n=this,e=this.messageService.subscribe(this.receiverId);e&&(this.receiverSub=e.subscribe(function(e){n.messages.push(e),n.scrollToBottom()}));var t=this.messageService.subscribeTyping(this.receiverId);t&&(this.receiverTypingSub=t.subscribe(function(e){return n.receiverTyping=e}))},n.prototype.populateUserInfo=function(n){var e=this.userService.getUserInfo(n);if(!e)throw new Error("User not found");this.name=e.name},n.prototype.sendMessage=function(){if(this._message){var n=new u.a(this._message,this.senderId,this.receiverId);this.messages.push(n),this.messenger.next(n),this.message="",this.scrollToBottom()}},n.prototype.scrollToBottom=function(){var n=this;this.messagesContainer&&setTimeout(function(){n.messagesContainer.nativeElement.scrollTop=n.messagesContainer.nativeElement.scrollHeight},0)},n.prototype.ngOnDestroy=function(){this.receiverSub.unsubscribe(),this.receiverTypingSub.unsubscribe()},n.ctorParameters=function(){return[{type:l.a},{type:i.a}]},n}()},L67P:function(n,e,t){"use strict";function l(n){return c._15(0,[(n()(),c._17(0,null,null,1,null,null,null,null,null,null,null)),(n()(),c._16(null,["\n    "," is typing...\n  "]))],null,function(n,e){n(e,1,0,e.component.receiverName)})}function r(n){return c._15(0,[(n()(),c._17(0,null,null,1,null,null,null,null,null,null,null)),(n()(),c._16(null,["\n    ","\n  "]))],null,function(n,e){n(e,1,0,e.component.receiverName)})}function i(n){return c._15(0,[(n()(),c._17(0,null,null,4,"div",[["class","sent"]],null,null,null,null,null)),(n()(),c._16(null,["\n        ","\n        "])),(n()(),c._17(0,null,null,1,"div",[["class","timestamp"]],null,null,null,null,null)),(n()(),c._16(null,["\n          ","\n        "])),(n()(),c._16(null,["\n      "]))],null,function(n,e){n(e,1,0,e.parent.context.$implicit.message),n(e,3,0,e.parent.context.$implicit.timeStamp)})}function u(n){return c._15(0,[(n()(),c._17(0,null,null,4,"div",[["class","received"]],null,null,null,null,null)),(n()(),c._16(null,["\n        ","\n        "])),(n()(),c._17(0,null,null,1,"div",[["class","timestamp"]],null,null,null,null,null)),(n()(),c._16(null,["\n          ","\n        "])),(n()(),c._16(null,["\n      "]))],null,function(n,e){n(e,1,0,e.parent.context.$implicit.message),n(e,3,0,e.parent.context.$implicit.timeStamp)})}function s(n){return c._15(0,[(n()(),c._17(0,null,null,7,null,null,null,null,null,null,null)),(n()(),c._16(null,["\n      "])),(n()(),c._21(16777216,null,null,1,null,i)),c._19(16384,null,0,p.f,[c._1,c._2],{ngIf:[0,"ngIf"]},null),(n()(),c._16(null,["\n      "])),(n()(),c._21(16777216,null,null,1,null,u)),c._19(16384,null,0,p.f,[c._1,c._2],{ngIf:[0,"ngIf"]},null),(n()(),c._16(null,["\n    "]))],function(n,e){var t=e.component;n(e,3,0,e.context.$implicit.sentBy===t.senderId),n(e,6,0,e.context.$implicit.sentBy===t.receiverId)},null)}function o(n){return c._15(0,[c._22(402653184,1,{messagesContainer:0}),(n()(),c._17(0,null,null,7,"div",[["class","chat-window-header"]],null,null,null,null,null)),(n()(),c._16(null,["\n  "])),(n()(),c._21(16777216,null,null,1,null,l)),c._19(16384,null,0,p.f,[c._1,c._2],{ngIf:[0,"ngIf"]},null),(n()(),c._16(null,["\n  "])),(n()(),c._21(16777216,null,null,1,null,r)),c._19(16384,null,0,p.f,[c._1,c._2],{ngIf:[0,"ngIf"]},null),(n()(),c._16(null,["\n"])),(n()(),c._16(null,["\n"])),(n()(),c._17(0,null,null,7,"div",[["class","message-history"]],null,null,null,null,null)),(n()(),c._16(null,["\n  "])),(n()(),c._17(0,[[1,0],["messageContainer",1]],null,4,"div",[["class","messages"]],null,null,null,null,null)),(n()(),c._16(null,["\n    "])),(n()(),c._21(16777216,null,null,1,null,s)),c._19(802816,null,0,p.g,[c._1,c._2,c.t],{ngForOf:[0,"ngForOf"]},null),(n()(),c._16(null,["\n  "])),(n()(),c._16(null,["\n"])),(n()(),c._16(null,["\n"])),(n()(),c._17(0,null,null,13,"div",[["class","user-input"]],null,null,null,null,null)),(n()(),c._16(null,["\n  "])),(n()(),c._17(0,null,null,5,"input",[["placeholder","..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var l=!0,r=n.component;if("input"===e){l=!1!==c._23(n,22)._handleInput(t.target.value)&&l}if("blur"===e){l=!1!==c._23(n,22).onTouched()&&l}if("compositionstart"===e){l=!1!==c._23(n,22)._compositionStart()&&l}if("compositionend"===e){l=!1!==c._23(n,22)._compositionEnd(t.target.value)&&l}if("ngModelChange"===e){l=!1!==(r.message=t)&&l}if("keyup.enter"===e){l=!1!==r.sendMessage()&&l}return l},null,null)),c._19(16384,null,0,f.d,[c.X,c.W,[2,f.e]],null,null),c._18(1024,null,f.f,function(n){return[n]},[f.d]),c._19(671744,null,0,f.g,[[8,null],[8,null],[8,null],[2,f.f]],{model:[0,"model"]},{update:"ngModelChange"}),c._18(2048,null,f.h,null,[f.g]),c._19(16384,null,0,f.i,[f.h],null,null),(n()(),c._16(null,["\n  "])),(n()(),c._17(0,null,null,3,"button",[["type","button"]],null,[[null,"click"]],function(n,e,t){var l=!0,r=n.component;if("click"===e){l=!1!==r.sendMessage()&&l}return l},null,null)),(n()(),c._16(null,["\n    "])),(n()(),c._17(0,null,null,0,"img",[["alt",""],["src","assets/send.svg"]],null,null,null,null,null)),(n()(),c._16(null,["\n  "])),(n()(),c._16(null,["\n"])),(n()(),c._16(null,["\n"]))],function(n,e){var t=e.component;n(e,4,0,t.receiverTyping),n(e,7,0,!t.receiverTyping),n(e,15,0,t.messages),n(e,24,0,t.message)},function(n,e){n(e,21,0,c._23(e,26).ngClassUntouched,c._23(e,26).ngClassTouched,c._23(e,26).ngClassPristine,c._23(e,26).ngClassDirty,c._23(e,26).ngClassValid,c._23(e,26).ngClassInvalid,c._23(e,26).ngClassPending)})}function _(n){return c._15(0,[(n()(),c._17(0,null,null,2,"app-chat-window",[["class","chat-window"]],null,null,null,o,y)),c._18(512,null,g.a,g.a,[]),c._19(4440064,null,0,h.a,[g.a,d.a],null,null)],function(n,e){n(e,2,0)},null)}var a=t("WaWK"),c=t("/oeL"),p=t("qbdv"),h=t("6S33"),f=t("bm2B"),g=t("emCa"),d=t("gvst");t.d(e,"b",function(){return y}),e.a=o;var m=[a.a],y=c._14({encapsulation:0,styles:m,data:{}});c._20("app-chat-window",h.a,_,{senderId:"senderId",receiverId:"receiverId"},{},[])},NhKt:function(n,e,t){"use strict";t.d(e,"a",function(){return l});var l=[""]},VPMo:function(n,e,t){"use strict";t.d(e,"a",function(){return l});var l=function(){function n(n,e,t){this.message=n,this.sentBy=e,this.sentTo=t,this.timeStamp=this.generateTimeStamp()}return n.prototype.generateTimeStamp=function(){var n=new Date;return n.getMonth()+"/"+n.getDate()+"/"+n.getFullYear()+" "+n.getHours()+":"+n.getMinutes()},n}()},WaWK:function(n,e,t){"use strict";t.d(e,"a",function(){return l});var l=[""]},"aR8+":function(n,e,t){"use strict";t.d(e,"a",function(){return l});var l=function(){function n(){}return n}()},cDNt:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=t("/oeL"),r=t("p5Ee"),i=t("fc+i"),u=t("+h1B");r.a.production&&t.i(l.a)(),t.i(i.a)().bootstrapModuleFactory(u.a)},emCa:function(n,e,t){"use strict";t.d(e,"a",function(){return r});var l=[{id:1,name:"Rob"},{id:2,name:"Laura"}],r=function(){function n(){this.userList=[],this.populateUserList()}return n.prototype.getUserInfo=function(n){var e=this.userList.filter(function(e){return e.id===n});return e.length>0?e[0]:null},n.prototype.populateUserList=function(){this.userList=l},n.ctorParameters=function(){return[]},n}()},gvst:function(n,e,t){"use strict";t.d(e,"a",function(){return l});var l=function(){function n(){this.userMap=new Map,this.userTypingMap=new Map}return n.prototype.register=function(n,e){this.userMap.set(n,e)},n.prototype.registerTypingListener=function(n,e){this.userTypingMap.set(n,e)},n.prototype.subscribe=function(n){return this.userMap.get(n)},n.prototype.subscribeTyping=function(n){return this.userTypingMap.get(n)},n.ctorParameters=function(){return[]},n}()},p5Ee:function(n,e,t){"use strict";t.d(e,"a",function(){return l});var l={production:!0}},q4dy:function(n,e,t){"use strict";function l(n){return u._15(0,[(n()(),u._16(null,["\n"])),(n()(),u._17(0,null,null,36,"main",[["class","main-container"]],null,null,null,null,null)),(n()(),u._16(null,["\n  "])),(n()(),u._17(0,null,null,7,"header",[["class","header"]],null,null,null,null,null)),(n()(),u._16(null,["\n    "])),(n()(),u._17(0,null,null,4,"div",[["class","branding"]],null,null,null,null,null)),(n()(),u._16(null,["\n      "])),(n()(),u._17(0,null,null,1,"a",[["class","logo"],["href","#"]],null,null,null,null,null)),(n()(),u._16(null,["ng-chat"])),(n()(),u._16(null,["\n    "])),(n()(),u._16(null,["\n  "])),(n()(),u._16(null,["\n  "])),(n()(),u._17(0,null,null,9,"section",[["class","container"]],null,null,null,null,null)),(n()(),u._16(null,["\n    "])),(n()(),u._17(0,null,null,2,"app-chat-window",[["class","chat-window"]],null,null,null,s.a,s.b)),u._18(512,null,o.a,o.a,[]),u._19(4440064,null,0,_.a,[o.a,a.a],{senderId:[0,"senderId"],receiverId:[1,"receiverId"]},null),(n()(),u._16(null,["\n    "])),(n()(),u._17(0,null,null,2,"app-chat-window",[["class","chat-window"]],null,null,null,s.a,s.b)),u._18(512,null,o.a,o.a,[]),u._19(4440064,null,0,_.a,[o.a,a.a],{senderId:[0,"senderId"],receiverId:[1,"receiverId"]},null),(n()(),u._16(null,["\n  "])),(n()(),u._16(null,["\n  "])),(n()(),u._17(0,null,null,13,"footer",[["class","footer"]],null,null,null,null,null)),(n()(),u._16(null,["\n    "])),(n()(),u._17(0,null,null,10,"div",[["class","credits"]],null,null,null,null,null)),(n()(),u._16(null,["\n      Icons made by "])),(n()(),u._17(0,null,null,1,"a",[["href","http://www.flaticon.com/authors/cursor-creative"],["title","Cursor Creative"]],null,null,null,null,null)),(n()(),u._16(null,["Cursor\n      Creative"])),(n()(),u._16(null,[" from "])),(n()(),u._17(0,null,null,1,"a",[["href","http://www.flaticon.com"],["title","Flaticon"]],null,null,null,null,null)),(n()(),u._16(null,["www.flaticon.com"])),(n()(),u._16(null,[" is licensed by "])),(n()(),u._17(0,null,null,1,"a",[["href","http://creativecommons.org/licenses/by/3.0/"],["target","_blank"],["title","Creative Commons BY 3.0"]],null,null,null,null,null)),(n()(),u._16(null,["CC 3.0 BY"])),(n()(),u._16(null,["\n    "])),(n()(),u._16(null,["\n  "])),(n()(),u._16(null,["\n"])),(n()(),u._16(null,["\n\n"]))],function(n,e){var t=e.component;n(e,16,0,t.robsId,t.laurasId),n(e,20,0,t.laurasId,t.robsId)},null)}function r(n){return u._15(0,[(n()(),u._17(0,null,null,1,"app-root",[],null,null,null,l,h)),u._19(49152,null,0,c.a,[],null,null)],null,null)}var i=t("NhKt"),u=t("/oeL"),s=t("L67P"),o=t("emCa"),_=t("6S33"),a=t("gvst"),c=t("wQAS");t.d(e,"a",function(){return f});var p=[i.a],h=u._14({encapsulation:0,styles:p,data:{}}),f=u._20("app-root",c.a,r,{},{},[])},qtrl:function(n,e){function t(n){throw new Error("Cannot find module '"+n+"'.")}t.keys=function(){return[]},t.resolve=t,n.exports=t,t.id="qtrl"},wQAS:function(n,e,t){"use strict";t.d(e,"a",function(){return l});var l=function(){function n(){this.robsId=1,this.laurasId=2}return n}()}},[0]);
